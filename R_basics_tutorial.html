<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2023-02-21">

<title>Design of Experiments in R with skpr - skpr_workshop_live_demo</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Design of Experiments in R with skpr</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./R_basics_tutorial.html" aria-current="page">
 <span class="menu-text">R Basics Tutorial</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./skpr_gen_design_live_demo.html">
 <span class="menu-text">Generating Optimal Designs with skpr</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./skpr_eval_design_live_demo.html">
 <span class="menu-text">Evaluating Experimental Designs with skpr</span></a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#installing-packages-from-the-comprehensive-r-archive-network-cran" id="toc-installing-packages-from-the-comprehensive-r-archive-network-cran" class="nav-link active" data-scroll-target="#installing-packages-from-the-comprehensive-r-archive-network-cran">Installing Packages from The Comprehensive R Archive Network (CRAN)</a>
  <ul class="collapse">
  <li><a href="#loading-libraries" id="toc-loading-libraries" class="nav-link" data-scroll-target="#loading-libraries">Loading libraries</a></li>
  </ul></li>
  <li><a href="#creating-vectors" id="toc-creating-vectors" class="nav-link" data-scroll-target="#creating-vectors">Creating vectors</a>
  <ul class="collapse">
  <li><a href="#creating-numeric-vectors-with-c-and-seq" id="toc-creating-numeric-vectors-with-c-and-seq" class="nav-link" data-scroll-target="#creating-numeric-vectors-with-c-and-seq">Creating numeric vectors with c() and seq()</a></li>
  <li><a href="#creating-character-vectors-with-c-and-paste" id="toc-creating-character-vectors-with-c-and-paste" class="nav-link" data-scroll-target="#creating-character-vectors-with-c-and-paste">Creating character vectors with <code>c()</code> and <code>paste()</code></a></li>
  <li><a href="#creating-factors-from-character-vectors-matters-for-dummy-encoding" id="toc-creating-factors-from-character-vectors-matters-for-dummy-encoding" class="nav-link" data-scroll-target="#creating-factors-from-character-vectors-matters-for-dummy-encoding">Creating factors from character vectors (Matters for dummy encoding)</a></li>
  </ul></li>
  <li><a href="#lists-and-for-loops" id="toc-lists-and-for-loops" class="nav-link" data-scroll-target="#lists-and-for-loops">Lists and <code>for</code> loops</a></li>
  <li><a href="#setting-a-random-seed-with-set.seed" id="toc-setting-a-random-seed-with-set.seed" class="nav-link" data-scroll-target="#setting-a-random-seed-with-set.seed">Setting a random seed with <code>set.seed()</code></a></li>
  <li><a href="#data-frames-tabular-data-and-recycling-rules" id="toc-data-frames-tabular-data-and-recycling-rules" class="nav-link" data-scroll-target="#data-frames-tabular-data-and-recycling-rules">Data frames, tabular data, and recycling rules</a>
  <ul class="collapse">
  <li><a href="#creating-candidate-sets-with-expand.grid" id="toc-creating-candidate-sets-with-expand.grid" class="nav-link" data-scroll-target="#creating-candidate-sets-with-expand.grid">Creating candidate sets with <code>expand.grid()</code></a></li>
  </ul></li>
  <li><a href="#basics-of-the-formula-interface" id="toc-basics-of-the-formula-interface" class="nav-link" data-scroll-target="#basics-of-the-formula-interface">Basics of the Formula interface</a></li>
  <li><a href="#the-r-pipe-and-filtering-candidate-sets-with-dplyr" id="toc-the-r-pipe-and-filtering-candidate-sets-with-dplyr" class="nav-link" data-scroll-target="#the-r-pipe-and-filtering-candidate-sets-with-dplyr">The R pipe |&gt; and filtering candidate sets with dplyr</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">skpr_workshop_live_demo</h1>
</div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">February 21, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<p>This document will help introduce</p>
<section id="installing-packages-from-the-comprehensive-r-archive-network-cran" class="level1">
<h1>Installing Packages from The Comprehensive R Archive Network (CRAN)</h1>
<div class="cell" data-hash="R_basics_tutorial_cache/html/unnamed-chunk-1_20a77b95a7cc07ab7779f564a2e6a6eb">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"skpr"</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"tidyverse"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="loading-libraries" class="level2">
<h2 class="anchored" data-anchor-id="loading-libraries">Loading libraries</h2>
<div class="cell" data-hash="R_basics_tutorial_cache/html/unnamed-chunk-2_71b5971238b5166e7813b7339800169c">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(skpr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: shiny</code></pre>
</div>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.1     ✔ readr     2.1.4
✔ forcats   1.0.0     ✔ stringr   1.5.0
✔ ggplot2   3.4.2     ✔ tibble    3.2.1
✔ lubridate 1.9.2     ✔ tidyr     1.3.0
✔ purrr     1.0.1     </code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
</div>
</section>
</section>
<section id="creating-vectors" class="level1">
<h1>Creating vectors</h1>
<section id="creating-numeric-vectors-with-c-and-seq" class="level2">
<h2 class="anchored" data-anchor-id="creating-numeric-vectors-with-c-and-seq">Creating numeric vectors with c() and seq()</h2>
<div class="cell" data-hash="R_basics_tutorial_cache/html/unnamed-chunk-3_4a3fc0f26a14dae00014dcf82f208cde">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>altitudes_manual <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">100</span>, <span class="dv">200</span>, <span class="dv">300</span>)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>altitudes_manual</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 100 200 300</code></pre>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(altitudes_manual)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "numeric"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>altitudes_colon <span class="ot">=</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">200</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>altitudes_colon</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  [1]   1   2   3   4   5   6   7   8   9  10  11  12  13  14  15  16  17  18
 [19]  19  20  21  22  23  24  25  26  27  28  29  30  31  32  33  34  35  36
 [37]  37  38  39  40  41  42  43  44  45  46  47  48  49  50  51  52  53  54
 [55]  55  56  57  58  59  60  61  62  63  64  65  66  67  68  69  70  71  72
 [73]  73  74  75  76  77  78  79  80  81  82  83  84  85  86  87  88  89  90
 [91]  91  92  93  94  95  96  97  98  99 100 101 102 103 104 105 106 107 108
[109] 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126
[127] 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144
[145] 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162
[163] 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180
[181] 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198
[199] 199 200</code></pre>
</div>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>altitudes_seq_by <span class="ot">=</span> <span class="fu">seq</span>(<span class="at">from =</span> <span class="dv">100</span>, <span class="at">to =</span> <span class="dv">1000</span>, <span class="at">by =</span> <span class="dv">5</span>)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>altitudes_seq_by</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  [1]  100  105  110  115  120  125  130  135  140  145  150  155  160  165  170
 [16]  175  180  185  190  195  200  205  210  215  220  225  230  235  240  245
 [31]  250  255  260  265  270  275  280  285  290  295  300  305  310  315  320
 [46]  325  330  335  340  345  350  355  360  365  370  375  380  385  390  395
 [61]  400  405  410  415  420  425  430  435  440  445  450  455  460  465  470
 [76]  475  480  485  490  495  500  505  510  515  520  525  530  535  540  545
 [91]  550  555  560  565  570  575  580  585  590  595  600  605  610  615  620
[106]  625  630  635  640  645  650  655  660  665  670  675  680  685  690  695
[121]  700  705  710  715  720  725  730  735  740  745  750  755  760  765  770
[136]  775  780  785  790  795  800  805  810  815  820  825  830  835  840  845
[151]  850  855  860  865  870  875  880  885  890  895  900  905  910  915  920
[166]  925  930  935  940  945  950  955  960  965  970  975  980  985  990  995
[181] 1000</code></pre>
</div>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>altitudes_seq_length <span class="ot">=</span> <span class="fu">seq</span>(<span class="at">from =</span> <span class="dv">50</span>, <span class="at">to =</span> <span class="dv">1000</span>, <span class="at">length.out =</span> <span class="dv">20</span>)</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>altitudes_seq_length</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]   50  100  150  200  250  300  350  400  450  500  550  600  650  700  750
[16]  800  850  900  950 1000</code></pre>
</div>
</div>
</section>
<section id="creating-character-vectors-with-c-and-paste" class="level2">
<h2 class="anchored" data-anchor-id="creating-character-vectors-with-c-and-paste">Creating character vectors with <code>c()</code> and <code>paste()</code></h2>
<div class="cell" data-hash="R_basics_tutorial_cache/html/unnamed-chunk-4_25a34c686bac101736fd5238a4327eda">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>modes <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"low"</span>,<span class="st">"medium"</span>,<span class="st">"high"</span>)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>modes</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "low"    "medium" "high"  </code></pre>
</div>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(modes)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>modes_paste <span class="ot">=</span> <span class="fu">paste</span>(<span class="st">"mode"</span>, <span class="fu">c</span>(<span class="st">"A"</span>,<span class="st">"B"</span>,<span class="st">"C"</span>,<span class="st">"D"</span>,<span class="st">"E"</span>))</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>modes_paste</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "mode A" "mode B" "mode C" "mode D" "mode E"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>modes_paste <span class="ot">=</span> <span class="fu">paste</span>(<span class="st">"mode"</span>, <span class="fu">c</span>(<span class="st">"A"</span>,<span class="st">"B"</span>,<span class="st">"C"</span>,<span class="st">"D"</span>,<span class="st">"E"</span>), <span class="at">sep=</span><span class="st">"_"</span>)</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>modes_paste</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "mode_A" "mode_B" "mode_C" "mode_D" "mode_E"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>modes_paste0 <span class="ot">=</span> <span class="fu">paste0</span>(<span class="st">"mode"</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>)</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>modes_paste0</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "mode1" "mode2" "mode3" "mode4" "mode5"</code></pre>
</div>
</div>
</section>
<section id="creating-factors-from-character-vectors-matters-for-dummy-encoding" class="level2">
<h2 class="anchored" data-anchor-id="creating-factors-from-character-vectors-matters-for-dummy-encoding">Creating factors from character vectors (Matters for dummy encoding)</h2>
<div class="cell" data-hash="R_basics_tutorial_cache/html/unnamed-chunk-5_98631af25976bb7fd876c52e9812ebd2">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>modes_factor <span class="ot">=</span> <span class="fu">factor</span>(<span class="fu">c</span>(<span class="st">"low"</span>,<span class="st">"medium"</span>,<span class="st">"high"</span>))</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>modes_factor</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] low    medium high  
Levels: high low medium</code></pre>
</div>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">contr.treatment</span>(modes_factor)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       medium high
low         0    0
medium      1    0
high        0    1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>modes_factor_levels <span class="ot">=</span> <span class="fu">factor</span>(<span class="fu">c</span>(<span class="st">"low"</span>,<span class="st">"medium"</span>, <span class="st">"off"</span>, <span class="st">"high"</span>),</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>                             <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"off"</span>, <span class="st">"low"</span>, <span class="st">"medium"</span>, <span class="st">"high"</span>))</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="fu">contr.treatment</span>(modes_factor_levels)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       medium off high
low         0   0    0
medium      1   0    0
off         0   1    0
high        0   0    1</code></pre>
</div>
</div>
</section>
</section>
<section id="lists-and-for-loops" class="level1">
<h1>Lists and <code>for</code> loops</h1>
<div class="cell" data-hash="R_basics_tutorial_cache/html/unnamed-chunk-6_21ab5f49b5de9157f9c665743a7ff97d">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Lists can hold any kind of data</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>new_list <span class="ot">=</span> <span class="fu">list</span>()</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>new_list</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>list()</code></pre>
</div>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>new_list[[<span class="st">"type"</span>]] <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"low"</span>,<span class="st">"medium"</span>,<span class="st">"high"</span>)</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>new_list</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$type
[1] "low"    "medium" "high"  </code></pre>
</div>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Use dollar sign operator to get value </span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>new_list<span class="sc">$</span>type</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "low"    "medium" "high"  </code></pre>
</div>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Double brackets returns the object in the list (without the name)</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>new_list[[<span class="st">"type"</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "low"    "medium" "high"  </code></pre>
</div>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Single brackets returns another list (with the name)</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>new_list[<span class="st">"type"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$type
[1] "low"    "medium" "high"  </code></pre>
</div>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>new_list<span class="sc">$</span>altitude <span class="ot">=</span> <span class="fu">seq</span>(<span class="dv">10000</span>,<span class="dv">30000</span>,<span class="at">by=</span><span class="dv">2000</span>)</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>new_list</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$type
[1] "low"    "medium" "high"  

$altitude
 [1] 10000 12000 14000 16000 18000 20000 22000 24000 26000 28000 30000</code></pre>
</div>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co">#You can also assign/access elements by position</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>new_list[[<span class="dv">1</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "low"    "medium" "high"  </code></pre>
</div>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>new_list[[<span class="dv">2</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 10000 12000 14000 16000 18000 20000 22000 24000 26000 28000 30000</code></pre>
</div>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="co">#We can use a for loop to automate tasks and assign into a list</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>output_list_dice_rolls <span class="ot">=</span> <span class="fu">list</span>()</span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>dice_roll_single <span class="ot">=</span> <span class="fu">sample</span>(<span class="at">x=</span><span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>,<span class="at">size=</span><span class="dv">100</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>)</span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(dice_roll_single)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3.28</code></pre>
</div>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10000</span>) {</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>  output_list_dice_rolls[[i]] <span class="ot">=</span> <span class="fu">sample</span>(<span class="at">x=</span><span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>,<span class="at">size=</span><span class="dv">100</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>)</span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a><span class="co">#(see environment pane)</span></span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a><span class="co">#Compute the average dice roll in each case </span></span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a>sum_dice_rolls <span class="ot">=</span> <span class="fu">vector</span>(<span class="at">mode=</span><span class="st">"numeric"</span>, <span class="at">length=</span><span class="dv">10000</span>)</span>
<span id="cb51-8"><a href="#cb51-8" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10000</span>) {</span>
<span id="cb51-9"><a href="#cb51-9" aria-hidden="true" tabindex="-1"></a>  sum_dice_rolls[i] <span class="ot">=</span> <span class="fu">mean</span>(output_list_dice_rolls[[i]])</span>
<span id="cb51-10"><a href="#cb51-10" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb51-11"><a href="#cb51-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-12"><a href="#cb51-12" aria-hidden="true" tabindex="-1"></a><span class="co">#Plot a histogram of the results</span></span>
<span id="cb51-13"><a href="#cb51-13" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(sum_dice_rolls, <span class="at">breaks =</span> <span class="dv">100</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R_basics_tutorial_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="setting-a-random-seed-with-set.seed" class="level1">
<h1>Setting a random seed with <code>set.seed()</code></h1>
<div class="cell" data-hash="R_basics_tutorial_cache/html/unnamed-chunk-7_dd48a0c3144ab984a10fbce33a27f29e">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="co">#We get different values with each run</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sample</span>(<span class="at">x=</span><span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>,<span class="at">size=</span><span class="dv">10</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 3 2 4 3 2 2 1 2 3 5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sample</span>(<span class="at">x=</span><span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>,<span class="at">size=</span><span class="dv">10</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 1 1 2 2 3 4 6 6 1 3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Fix randomness by using set.seed()</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a><span class="fu">sample</span>(<span class="at">x=</span><span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>,<span class="at">size=</span><span class="dv">10</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 3 6 3 2 2 6 3 5 4 6</code></pre>
</div>
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sample</span>(<span class="at">x=</span><span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>,<span class="at">size=</span><span class="dv">10</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 3 6 3 2 2 6 3 5 4 6</code></pre>
</div>
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Change it and get completely different results</span></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">124</span>)</span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a><span class="fu">sample</span>(<span class="at">x=</span><span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>,<span class="at">size=</span><span class="dv">10</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 1 2 3 5 6 5 2 1 3 4</code></pre>
</div>
</div>
</section>
<section id="data-frames-tabular-data-and-recycling-rules" class="level1">
<h1>Data frames, tabular data, and recycling rules</h1>
<p>Here we’re manually creating a candidate set–a data frame of allowable test points.</p>
<div class="cell" data-hash="R_basics_tutorial_cache/html/unnamed-chunk-8_496691592e4c09be77c31672bc1b66eb">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>basic_dataframe <span class="ot">=</span> <span class="fu">data.frame</span>(<span class="at">altitudes =</span> <span class="fu">c</span>(<span class="dv">100</span>, <span class="dv">200</span>, <span class="dv">300</span>, <span class="dv">100</span>, <span class="dv">200</span>, <span class="dv">300</span>), </span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>                             <span class="at">mode =</span> <span class="fu">c</span>(<span class="st">"low"</span>, <span class="st">"low"</span>, <span class="st">"loW"</span>, </span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a>                                      <span class="st">"high"</span>, <span class="st">"high"</span>, <span class="st">"high"</span>),</span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a>                             <span class="at">operator =</span> <span class="fu">rep</span>(<span class="st">"single"</span>, <span class="dv">6</span>))</span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a>basic_dataframe</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  altitudes mode operator
1       100  low   single
2       200  low   single
3       300  loW   single
4       100 high   single
5       200 high   single
6       300 high   single</code></pre>
</div>
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Access individual columns with `$` (just like lists)</span></span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>basic_dataframe<span class="sc">$</span>altitudes</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 100 200 300 100 200 300</code></pre>
</div>
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>basic_dataframe<span class="sc">$</span>mode</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "low"  "low"  "loW"  "high" "high" "high"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Also assign into a data.frame()</span></span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a>basic_dataframe<span class="sc">$</span>target_type <span class="ot">=</span> <span class="fu">factor</span>(<span class="fu">c</span>(<span class="st">"type1"</span>, <span class="st">"type2"</span>, </span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a>                                       <span class="st">"type1"</span>, <span class="st">"type2"</span>, </span>
<span id="cb68-4"><a href="#cb68-4" aria-hidden="true" tabindex="-1"></a>                                       <span class="st">"type1"</span>, <span class="st">"type2"</span>))</span>
<span id="cb68-5"><a href="#cb68-5" aria-hidden="true" tabindex="-1"></a>basic_dataframe</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  altitudes mode operator target_type
1       100  low   single       type1
2       200  low   single       type2
3       300  loW   single       type1
4       100 high   single       type2
5       200 high   single       type1
6       300 high   single       type2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Factors are recycled to the length of the longest input (be careful!)</span></span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a>basic_list <span class="ot">=</span>  <span class="fu">list</span>(<span class="at">altitudes =</span> <span class="fu">c</span>(<span class="dv">100</span>, <span class="dv">200</span>, <span class="dv">300</span>), </span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a>                   <span class="at">mode =</span> <span class="fu">c</span>(<span class="st">"low"</span>, <span class="st">"low"</span>, <span class="st">"loW"</span>,</span>
<span id="cb70-4"><a href="#cb70-4" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"high"</span>, <span class="st">"high"</span>, <span class="st">"high"</span>),</span>
<span id="cb70-5"><a href="#cb70-5" aria-hidden="true" tabindex="-1"></a>                   <span class="at">operator =</span> <span class="st">"single"</span>)</span>
<span id="cb70-6"><a href="#cb70-6" aria-hidden="true" tabindex="-1"></a>basic_list</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$altitudes
[1] 100 200 300

$mode
[1] "low"  "low"  "loW"  "high" "high" "high"

$operator
[1] "single"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a>basic_dataframe_recycled <span class="ot">=</span>  <span class="fu">data.frame</span>(<span class="at">altitudes =</span> <span class="fu">c</span>(<span class="dv">100</span>, <span class="dv">200</span>, <span class="dv">300</span>), </span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a>                                       <span class="at">mode =</span> <span class="fu">c</span>(<span class="st">"low"</span>, <span class="st">"low"</span>, <span class="st">"loW"</span>,</span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a>                                                <span class="st">"high"</span>, <span class="st">"high"</span>, <span class="st">"high"</span>),</span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a>                                       <span class="at">operator =</span> <span class="st">"single"</span>)</span>
<span id="cb72-5"><a href="#cb72-5" aria-hidden="true" tabindex="-1"></a>basic_dataframe_recycled</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  altitudes mode operator
1       100  low   single
2       200  low   single
3       300  loW   single
4       100 high   single
5       200 high   single
6       300 high   single</code></pre>
</div>
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Question: What happens when the lengths of the vectors aren't divisible?</span></span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a><span class="co"># basic_dataframe_recycled_error =  data.frame(altitudes = c(100, 200, 300),</span></span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a><span class="co">#                                              mode = c("low", "low",</span></span>
<span id="cb74-4"><a href="#cb74-4" aria-hidden="true" tabindex="-1"></a><span class="co">#                                                       "high", "high", "high"),</span></span>
<span id="cb74-5"><a href="#cb74-5" aria-hidden="true" tabindex="-1"></a><span class="co">#                                              operator = "single")</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="creating-candidate-sets-with-expand.grid" class="level2">
<h2 class="anchored" data-anchor-id="creating-candidate-sets-with-expand.grid">Creating candidate sets with <code>expand.grid()</code></h2>
<div class="cell" data-hash="R_basics_tutorial_cache/html/unnamed-chunk-9_cbec496d35f0914ac4d5b33050a5276d">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a>candidate_set <span class="ot">=</span> <span class="fu">expand.grid</span>(<span class="at">altitudes =</span> <span class="fu">c</span>(<span class="dv">100</span>, <span class="dv">200</span>, <span class="dv">300</span>),</span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a>                            <span class="at">mode =</span> <span class="fu">c</span>(<span class="st">"low"</span>, <span class="st">"high"</span>),</span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a>                            <span class="at">operator =</span> <span class="fu">c</span>(<span class="st">"blue"</span>, <span class="st">"gold"</span>))</span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a>candidate_set</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   altitudes mode operator
1        100  low     blue
2        200  low     blue
3        300  low     blue
4        100 high     blue
5        200 high     blue
6        300 high     blue
7        100  low     gold
8        200  low     gold
9        300  low     gold
10       100 high     gold
11       200 high     gold
12       300 high     gold</code></pre>
</div>
</div>
</section>
</section>
<section id="basics-of-the-formula-interface" class="level1">
<h1>Basics of the Formula interface</h1>
<p>We’ll run a fake experiment to see how it works.</p>
<div class="cell" data-hash="R_basics_tutorial_cache/html/unnamed-chunk-10_cc9beaf2a551d2fec14212305861ccff">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">2023</span>)</span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a>basic_dataframe_lm <span class="ot">=</span> <span class="fu">expand.grid</span>(<span class="at">altitudes =</span> <span class="fu">c</span>(<span class="dv">100</span>, <span class="dv">200</span>, <span class="dv">300</span>),</span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">mode =</span> <span class="fu">c</span>(<span class="st">"low"</span>, <span class="st">"medium"</span>, <span class="st">"high"</span>),</span>
<span id="cb77-4"><a href="#cb77-4" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">operator =</span> <span class="fu">c</span>(<span class="st">"blue"</span>, <span class="st">"gold"</span>))</span>
<span id="cb77-5"><a href="#cb77-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-6"><a href="#cb77-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating a fake response--simulating what would happen </span></span>
<span id="cb77-7"><a href="#cb77-7" aria-hidden="true" tabindex="-1"></a><span class="co"># if there were no effect from any of the terms.                                </span></span>
<span id="cb77-8"><a href="#cb77-8" aria-hidden="true" tabindex="-1"></a>basic_dataframe_lm<span class="sc">$</span>Y <span class="ot">=</span> <span class="fu">runif</span>(<span class="dv">18</span>)</span>
<span id="cb77-9"><a href="#cb77-9" aria-hidden="true" tabindex="-1"></a>basic_dataframe_lm</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   altitudes   mode operator          Y
1        100    low     blue 0.46661394
2        200    low     blue 0.33519095
3        300    low     blue 0.16281756
4        100 medium     blue 0.39612002
5        200 medium     blue 0.03039173
6        300 medium     blue 0.12088487
7        100   high     blue 0.42616566
8        200   high     blue 0.61785788
9        300   high     blue 0.26320826
10       100    low     gold 0.47632387
11       200    low     gold 0.86231900
12       300    low     gold 0.14887863
13       100 medium     gold 0.18043008
14       200 medium     gold 0.99927331
15       300 medium     gold 0.84174118
16       100   high     gold 0.14264906
17       200   high     gold 0.34484839
18       300   high     gold 0.88962545</code></pre>
</div>
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Left side ~ Right side</span></span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a><span class="co">#Response  ~ Model terms</span></span>
<span id="cb79-3"><a href="#cb79-3" aria-hidden="true" tabindex="-1"></a>Y <span class="sc">~</span> altitudes <span class="sc">+</span> mode <span class="sc">+</span> operator</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Y ~ altitudes + mode + operator</code></pre>
</div>
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Basic use (main effects only)</span></span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a>fit <span class="ot">=</span> <span class="fu">lm</span>(<span class="at">formula =</span> Y <span class="sc">~</span> altitudes <span class="sc">+</span> mode <span class="sc">+</span> operator, <span class="at">data =</span> basic_dataframe_lm)</span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = Y ~ altitudes + mode + operator, data = basic_dataframe_lm)

Residuals:
     Min       1Q   Median       3Q      Max 
-0.40287 -0.21984  0.01119  0.25315  0.45631 

Coefficients:
              Estimate Std. Error t value Pr(&gt;|t|)
(Intercept)  0.2373908  0.2334080   1.017    0.328
altitudes    0.0002824  0.0009040   0.312    0.760
modemedium   0.0194495  0.1807970   0.108    0.916
modehigh     0.0387018  0.1807970   0.214    0.834
operatorgold 0.2296487  0.1476202   1.556    0.144

Residual standard error: 0.3131 on 13 degrees of freedom
Multiple R-squared:  0.1647,    Adjusted R-squared:  -0.0923 
F-statistic: 0.6409 on 4 and 13 DF,  p-value: 0.6427</code></pre>
</div>
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use dot operator `.` to include all main effects terms</span></span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a>fit2 <span class="ot">=</span> <span class="fu">lm</span>(<span class="at">formula =</span> Y <span class="sc">~</span> ., <span class="at">data =</span> basic_dataframe_lm)</span>
<span id="cb83-3"><a href="#cb83-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = Y ~ ., data = basic_dataframe_lm)

Residuals:
     Min       1Q   Median       3Q      Max 
-0.40287 -0.21984  0.01119  0.25315  0.45631 

Coefficients:
              Estimate Std. Error t value Pr(&gt;|t|)
(Intercept)  0.2373908  0.2334080   1.017    0.328
altitudes    0.0002824  0.0009040   0.312    0.760
modemedium   0.0194495  0.1807970   0.108    0.916
modehigh     0.0387018  0.1807970   0.214    0.834
operatorgold 0.2296487  0.1476202   1.556    0.144

Residual standard error: 0.3131 on 13 degrees of freedom
Multiple R-squared:  0.1647,    Adjusted R-squared:  -0.0923 
F-statistic: 0.6409 on 4 and 13 DF,  p-value: 0.6427</code></pre>
</div>
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Question: Where did the operator term go?</span></span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a>fit3 <span class="ot">=</span> <span class="fu">lm</span>(<span class="at">formula =</span> Y <span class="sc">~</span> mode <span class="sc">+</span> altitudes, <span class="at">data =</span> basic_dataframe_lm)</span>
<span id="cb85-3"><a href="#cb85-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = Y ~ mode + altitudes, data = basic_dataframe_lm)

Residuals:
     Min       1Q   Median       3Q      Max 
-0.39775 -0.26045 -0.03864  0.15182  0.57113 

Coefficients:
             Estimate Std. Error t value Pr(&gt;|t|)
(Intercept) 0.3522151  0.2323896   1.516    0.152
modemedium  0.0194495  0.1897453   0.103    0.920
modehigh    0.0387018  0.1897453   0.204    0.841
altitudes   0.0002824  0.0009487   0.298    0.770

Residual standard error: 0.3286 on 14 degrees of freedom
Multiple R-squared:  0.009214,  Adjusted R-squared:  -0.2031 
F-statistic: 0.0434 on 3 and 14 DF,  p-value: 0.9875</code></pre>
</div>
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Include interaction effects with `:`</span></span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a>fit4 <span class="ot">=</span> <span class="fu">lm</span>(<span class="at">formula =</span> Y <span class="sc">~</span> mode <span class="sc">+</span> altitudes <span class="sc">+</span> mode<span class="sc">:</span>altitudes, <span class="at">data =</span> basic_dataframe_lm)</span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit4)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = Y ~ mode + altitudes + mode:altitudes, data = basic_dataframe_lm)

Residuals:
     Min       1Q   Median       3Q      Max 
-0.40377 -0.13903 -0.08912  0.15904  0.57113 

Coefficients:
                      Estimate Std. Error t value Pr(&gt;|t|)  
(Intercept)           0.724311   0.355452   2.038   0.0642 .
modemedium           -0.489209   0.502684  -0.973   0.3497  
modehigh             -0.568929   0.502684  -1.132   0.2798  
altitudes            -0.001578   0.001645  -0.959   0.3564  
modemedium:altitudes  0.002543   0.002327   1.093   0.2959  
modehigh:altitudes    0.003038   0.002327   1.306   0.2162  
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 0.3291 on 12 degrees of freedom
Multiple R-squared:  0.1485,    Adjusted R-squared:  -0.2063 
F-statistic: 0.4186 on 5 and 12 DF,  p-value: 0.8271</code></pre>
</div>
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Exactly the same as writing this:</span></span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a>fit5 <span class="ot">=</span> <span class="fu">lm</span>(<span class="at">formula =</span> Y <span class="sc">~</span> mode <span class="sc">*</span> altitudes, <span class="at">data =</span> basic_dataframe_lm)</span>
<span id="cb89-3"><a href="#cb89-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit5)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = Y ~ mode * altitudes, data = basic_dataframe_lm)

Residuals:
     Min       1Q   Median       3Q      Max 
-0.40377 -0.13903 -0.08912  0.15904  0.57113 

Coefficients:
                      Estimate Std. Error t value Pr(&gt;|t|)  
(Intercept)           0.724311   0.355452   2.038   0.0642 .
modemedium           -0.489209   0.502684  -0.973   0.3497  
modehigh             -0.568929   0.502684  -1.132   0.2798  
altitudes            -0.001578   0.001645  -0.959   0.3564  
modemedium:altitudes  0.002543   0.002327   1.093   0.2959  
modehigh:altitudes    0.003038   0.002327   1.306   0.2162  
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 0.3291 on 12 degrees of freedom
Multiple R-squared:  0.1485,    Adjusted R-squared:  -0.2063 
F-statistic: 0.4186 on 5 and 12 DF,  p-value: 0.8271</code></pre>
</div>
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="co"># You can also use the dot operator to create interactions between all model terms</span></span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a>fit6 <span class="ot">=</span> <span class="fu">lm</span>(<span class="at">formula =</span> Y <span class="sc">~</span> (.)<span class="sc">^</span><span class="dv">2</span> , <span class="at">data =</span> basic_dataframe_lm)</span>
<span id="cb91-3"><a href="#cb91-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit6)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = Y ~ (.)^2, data = basic_dataframe_lm)

Residuals:
     Min       1Q   Median       3Q      Max 
-0.34105 -0.14260 -0.01698  0.14641  0.36648 

Coefficients:
                         Estimate Std. Error t value Pr(&gt;|t|)  
(Intercept)              0.940967   0.357696   2.631   0.0301 *
altitudes               -0.003097   0.001600  -1.936   0.0889 .
modemedium              -0.647734   0.452454  -1.432   0.1901  
modehigh                -0.493427   0.452454  -1.091   0.3072  
operatorgold            -0.433311   0.391837  -1.106   0.3009  
altitudes:modemedium     0.002543   0.001959   1.298   0.2304  
altitudes:modehigh       0.003038   0.001959   1.551   0.1596  
altitudes:operatorgold   0.003038   0.001600   1.899   0.0941 .
modemedium:operatorgold  0.317050   0.319933   0.991   0.3507  
modehigh:operatorgold   -0.151003   0.319933  -0.472   0.6495  
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 0.2771 on 8 degrees of freedom
Multiple R-squared:  0.5976,    Adjusted R-squared:  0.1449 
F-statistic:  1.32 on 9 and 8 DF,  p-value: 0.3531</code></pre>
</div>
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a>fit6 <span class="ot">=</span> <span class="fu">lm</span>(<span class="at">formula =</span> Y <span class="sc">~</span> . <span class="sc">*</span> . , <span class="at">data =</span> basic_dataframe_lm)</span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit6)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = Y ~ . * ., data = basic_dataframe_lm)

Residuals:
     Min       1Q   Median       3Q      Max 
-0.34105 -0.14260 -0.01698  0.14641  0.36648 

Coefficients:
                         Estimate Std. Error t value Pr(&gt;|t|)  
(Intercept)              0.940967   0.357696   2.631   0.0301 *
altitudes               -0.003097   0.001600  -1.936   0.0889 .
modemedium              -0.647734   0.452454  -1.432   0.1901  
modehigh                -0.493427   0.452454  -1.091   0.3072  
operatorgold            -0.433311   0.391837  -1.106   0.3009  
altitudes:modemedium     0.002543   0.001959   1.298   0.2304  
altitudes:modehigh       0.003038   0.001959   1.551   0.1596  
altitudes:operatorgold   0.003038   0.001600   1.899   0.0941 .
modemedium:operatorgold  0.317050   0.319933   0.991   0.3507  
modehigh:operatorgold   -0.151003   0.319933  -0.472   0.6495  
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 0.2771 on 8 degrees of freedom
Multiple R-squared:  0.5976,    Adjusted R-squared:  0.1449 
F-statistic:  1.32 on 9 and 8 DF,  p-value: 0.3531</code></pre>
</div>
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Or specify just interactions between a single term and all the other terms</span></span>
<span id="cb95-2"><a href="#cb95-2" aria-hidden="true" tabindex="-1"></a>fit7 <span class="ot">=</span> <span class="fu">lm</span>(<span class="at">formula =</span> Y <span class="sc">~</span> .  <span class="sc">+</span> . <span class="sc">:</span> altitudes , <span class="at">data =</span> basic_dataframe_lm)</span>
<span id="cb95-3"><a href="#cb95-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit7)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = Y ~ . + .:altitudes, data = basic_dataframe_lm)

Residuals:
     Min       1Q   Median       3Q      Max 
-0.36873 -0.13314 -0.01284  0.07836  0.45631 

Coefficients:
                        Estimate Std. Error t value Pr(&gt;|t|)  
(Intercept)             0.913292   0.349520   2.613   0.0259 *
altitudes              -0.003097   0.001618  -1.914   0.0846 .
modemedium             -0.489209   0.428073  -1.143   0.2797  
modehigh               -0.568929   0.428073  -1.329   0.2134  
operatorgold           -0.377962   0.349520  -1.081   0.3049  
altitudes:modemedium    0.002543   0.001982   1.283   0.2283  
altitudes:modehigh      0.003038   0.001982   1.533   0.1562  
altitudes:operatorgold  0.003038   0.001618   1.878   0.0899 .
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 0.2802 on 10 degrees of freedom
Multiple R-squared:  0.4854,    Adjusted R-squared:  0.1252 
F-statistic: 1.348 on 7 and 10 DF,  p-value: 0.3227</code></pre>
</div>
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Include quadratic terms with the as is function `I()`</span></span>
<span id="cb97-2"><a href="#cb97-2" aria-hidden="true" tabindex="-1"></a>fit8 <span class="ot">=</span> <span class="fu">lm</span>(<span class="at">formula =</span> Y <span class="sc">~</span> mode <span class="sc">+</span> altitudes <span class="sc">+</span> <span class="fu">I</span>(altitudes<span class="sc">^</span><span class="dv">2</span>), <span class="at">data =</span> basic_dataframe_lm)</span>
<span id="cb97-3"><a href="#cb97-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit8)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = Y ~ mode + altitudes + I(altitudes^2), data = basic_dataframe_lm)

Residuals:
     Min       1Q   Median       3Q      Max 
-0.50132 -0.21827 -0.05632  0.14523  0.46756 

Coefficients:
                 Estimate Std. Error t value Pr(&gt;|t|)
(Intercept)    -1.656e-01  5.974e-01  -0.277    0.786
modemedium      1.945e-02  1.905e-01   0.102    0.920
modehigh        3.870e-02  1.905e-01   0.203    0.842
altitudes       6.497e-03  6.668e-03   0.974    0.348
I(altitudes^2) -1.554e-05  1.650e-05  -0.942    0.364

Residual standard error: 0.33 on 13 degrees of freedom
Multiple R-squared:  0.07247,   Adjusted R-squared:  -0.2129 
F-statistic: 0.2539 on 4 and 13 DF,  p-value: 0.9021</code></pre>
</div>
</div>
</section>
<section id="the-r-pipe-and-filtering-candidate-sets-with-dplyr" class="level1">
<h1>The R pipe |&gt; and filtering candidate sets with dplyr</h1>
<p>How do we easily represent a series of sequential data manipulations in R?</p>
<div class="cell" data-hash="R_basics_tutorial_cache/html/unnamed-chunk-11_2f232abf55b092701bee976478a028b8">
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Generate a candidate set using expand.grid() for a flight envelope</span></span>
<span id="cb99-2"><a href="#cb99-2" aria-hidden="true" tabindex="-1"></a>candidate_set <span class="ot">=</span> <span class="fu">expand.grid</span>(<span class="at">altitude =</span> <span class="fu">seq</span>(<span class="dv">10000</span>,<span class="dv">30000</span>,<span class="at">by=</span><span class="dv">1000</span>),</span>
<span id="cb99-3"><a href="#cb99-3" aria-hidden="true" tabindex="-1"></a>                            <span class="at">speed    =</span> <span class="fu">seq</span>(<span class="dv">450</span>,<span class="dv">550</span>,<span class="at">by=</span><span class="dv">5</span>),</span>
<span id="cb99-4"><a href="#cb99-4" aria-hidden="true" tabindex="-1"></a>                            <span class="at">mode      =</span> <span class="fu">c</span>(<span class="st">"mode1"</span>, <span class="st">"mode2"</span>, <span class="st">"mode3"</span>))</span>
<span id="cb99-5"><a href="#cb99-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(candidate_set,<span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   altitude speed  mode
1     10000   450 mode1
2     11000   450 mode1
3     12000   450 mode1
4     13000   450 mode1
5     14000   450 mode1
6     15000   450 mode1
7     16000   450 mode1
8     17000   450 mode1
9     18000   450 mode1
10    19000   450 mode1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(candidate_set)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1323</code></pre>
</div>
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="co">#All the potential test points</span></span>
<span id="cb103-2"><a href="#cb103-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(candidate_set) <span class="sc">+</span></span>
<span id="cb103-3"><a href="#cb103-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x=</span>speed,<span class="at">y=</span>altitude)) <span class="sc">+</span> </span>
<span id="cb103-4"><a href="#cb103-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>mode)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R_basics_tutorial_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Flight envelope </span></span>
<span id="cb104-2"><a href="#cb104-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(candidate_set) <span class="sc">+</span></span>
<span id="cb104-3"><a href="#cb104-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x=</span>speed,<span class="at">y=</span>altitude)) <span class="sc">+</span> </span>
<span id="cb104-4"><a href="#cb104-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">slope =</span> <span class="sc">-</span><span class="dv">90</span>, <span class="at">intercept=</span><span class="dv">70000</span>,<span class="at">color=</span><span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb104-5"><a href="#cb104-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">slope =</span> <span class="dv">1000</span>, <span class="at">intercept=</span><span class="sc">-</span><span class="dv">430000</span>,<span class="at">color=</span><span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb104-6"><a href="#cb104-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">slope =</span> <span class="sc">-</span><span class="dv">300</span>, <span class="at">intercept=</span><span class="dv">150000</span>,<span class="at">color=</span><span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb104-7"><a href="#cb104-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">slope =</span> <span class="dv">50</span>, <span class="at">intercept=</span><span class="sc">-</span><span class="dv">14000</span>,<span class="at">color=</span><span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb104-8"><a href="#cb104-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>mode)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R_basics_tutorial_files/figure-html/unnamed-chunk-11-2.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Problem: How do we filter down our candidate set to our test region?</span></span>
<span id="cb105-2"><a href="#cb105-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Solution: Use filter function from dplyr package</span></span>
<span id="cb105-3"><a href="#cb105-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-4"><a href="#cb105-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Problem: We have multiple constraints, how do we generate our final candidate set?</span></span>
<span id="cb105-5"><a href="#cb105-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Solution #1: Use temporary variables?</span></span>
<span id="cb105-6"><a href="#cb105-6" aria-hidden="true" tabindex="-1"></a>temp_candidate <span class="ot">=</span> <span class="fu">filter</span>(candidate_set, <span class="dv">70000</span> <span class="sc">-</span> speed <span class="sc">*</span> <span class="dv">90</span> <span class="sc">&gt;</span> altitude)</span>
<span id="cb105-7"><a href="#cb105-7" aria-hidden="true" tabindex="-1"></a>temp_candidate2 <span class="ot">=</span> <span class="fu">filter</span>(temp_candidate, <span class="sc">-</span><span class="dv">430000</span> <span class="sc">+</span> speed <span class="sc">*</span> <span class="dv">1000</span> <span class="sc">&gt;</span> altitude)</span>
<span id="cb105-8"><a href="#cb105-8" aria-hidden="true" tabindex="-1"></a>temp_candidate3 <span class="ot">=</span> <span class="fu">filter</span>(temp_candidate2, <span class="dv">150000</span> <span class="sc">-</span> speed <span class="sc">*</span> <span class="dv">300</span> <span class="sc">&lt;</span> altitude)</span>
<span id="cb105-9"><a href="#cb105-9" aria-hidden="true" tabindex="-1"></a>constrained_candidate_set <span class="ot">=</span> <span class="fu">filter</span>(temp_candidate3, <span class="sc">-</span><span class="dv">14000</span> <span class="sc">+</span> speed <span class="sc">*</span> <span class="dv">50</span> <span class="sc">&lt;</span> altitude)</span>
<span id="cb105-10"><a href="#cb105-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-11"><a href="#cb105-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Solution #2: Use the pipe to chain calls together</span></span>
<span id="cb105-12"><a href="#cb105-12" aria-hidden="true" tabindex="-1"></a>constrained_candidate_set <span class="ot">=</span> candidate_set <span class="sc">|&gt;</span> </span>
<span id="cb105-13"><a href="#cb105-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="dv">70000</span> <span class="sc">-</span> speed <span class="sc">*</span> <span class="dv">90</span> <span class="sc">&gt;</span> altitude) <span class="sc">|&gt;</span> </span>
<span id="cb105-14"><a href="#cb105-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">-</span><span class="dv">430000</span> <span class="sc">+</span> speed <span class="sc">*</span> <span class="dv">1000</span> <span class="sc">&gt;</span> altitude) <span class="sc">|&gt;</span> </span>
<span id="cb105-15"><a href="#cb105-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="dv">150000</span> <span class="sc">-</span> speed <span class="sc">*</span> <span class="dv">300</span> <span class="sc">&lt;</span> altitude)  <span class="sc">|&gt;</span> </span>
<span id="cb105-16"><a href="#cb105-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">-</span><span class="dv">14000</span> <span class="sc">+</span> speed <span class="sc">*</span> <span class="dv">50</span> <span class="sc">&lt;</span> altitude)</span>
<span id="cb105-17"><a href="#cb105-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-18"><a href="#cb105-18" aria-hidden="true" tabindex="-1"></a><span class="co">#Plot the new constrained candidate set</span></span>
<span id="cb105-19"><a href="#cb105-19" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>constrained_candidate_set) <span class="sc">+</span></span>
<span id="cb105-20"><a href="#cb105-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x=</span>speed,<span class="at">y=</span>altitude))  <span class="sc">+</span></span>
<span id="cb105-21"><a href="#cb105-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">slope =</span> <span class="sc">-</span><span class="dv">90</span>, <span class="at">intercept=</span><span class="dv">70000</span>,<span class="at">color=</span><span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb105-22"><a href="#cb105-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">slope =</span> <span class="dv">1000</span>, <span class="at">intercept=</span><span class="sc">-</span><span class="dv">430000</span>,<span class="at">color=</span><span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb105-23"><a href="#cb105-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">slope =</span> <span class="sc">-</span><span class="dv">300</span>, <span class="at">intercept=</span><span class="dv">150000</span>,<span class="at">color=</span><span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb105-24"><a href="#cb105-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">slope =</span> <span class="dv">50</span>, <span class="at">intercept=</span><span class="sc">-</span><span class="dv">14000</span>,<span class="at">color=</span><span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb105-25"><a href="#cb105-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Testing Flight Envelope"</span>) <span class="sc">+</span></span>
<span id="cb105-26"><a href="#cb105-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>mode)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="R_basics_tutorial_files/figure-html/unnamed-chunk-11-3.png" class="img-fluid" width="672"></p>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>